[[!meta title="SSL Certificates"]]

# SSL Certificate Generation Procedures

See the [Berkeley CalNet PKI page](https://wikihub.berkeley.edu/display/calnet/CalNet+InCommon-Comodo+Certificate+Service) for information on how to submit a certificate request.

## Generate Secured Private Key
   * Generate the private key for the server you are creating a CSR/cert for.
      * Type *openssl genrsa -des3 -out {shortservername}.key 2048*
      * You will be asked for a password.  You will need to remember this password for about 3 minutes.
      * The key is generated.

## Generate Unsecured Private Key
   * The unsecured private key will be used to generate a PKCS #12 file after we get the certificate back.
      * Type *openssl rsa -in {shortservername}.key -out unsecured.{shortservername}.key*
      *  You will be asked for a password.  You should have remembered it.
      * The unsecured key is generated.

## Generate CSR
   * This is the fun part.   We get to generate the CSR
      * Type *openssl req -new -key {shortservername}.key -out {shortservername}.csr*
      *  You will be asked for a password.  You still should have remembered it.
      * You will next be asked a series of questions.  Answers are below.  Do not shorten names, things will not work.
      * Country Name:  US
      * State or Province:  California
      * Locality:   Berkeley
      * Organization Name:  University of California, Berkeley
      * Organizational Unit Name:  OCF or Open Computing Facility
      * Common Name:  The FQDN of the server
      * Email Address:  staff@ocf.berkeley.edu
      * Challenge Password:  blank
      * Optional Company Name:   blank
   * Send the {shortservername}.csr file to calnet-pki for Comodo certs.

-----
###### Courtesy of ResComp WinSys Twiki documentation
